<!DOCTYPE html>
<html lang="en">
<head>
    <title>JobBoard</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="css/custom-bs.css">
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/bootstrap-select.min.css">
    <link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" href="fonts/line-icons/style.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/quill.snow.css">
    <link rel="stylesheet" href="css/style.css">

    <script>
        function logout() {
            // Perform any logout operations if needed
            // Redirect to login page
            window.location.href = "/jobboard/login.html";
        }
    </script>
</head>
<body id="top">


<div id="overlayer"></div>
<div class="loader">
    <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>


<div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
                <span class="icon-close2 js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->


    <!-- NAVBAR -->
    <header class="site-navbar mt-3">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="site-logo col-6"><a href="recruiter.html">JobBoard</a></div>

                <nav class="mx-auto site-navigation">
                    <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
                        <li><a href="recruiter.html" class="nav-link active">Home</a></li>
                        <li><a href="about copy.html">About</a></li>
                        
                        <li class="has-children">
                            <a href="#">Pages</a>
                            <ul class="dropdown">

                                <li><a href="testimonials copy.html">Testimonials</a></li>
                                <li><a href="faq copy.html">Frequently Ask Questions</a></li>

                            </ul>
                        </li>
                        <li><a href="Candidate.html" >Candidates</a></li>
                        <li><a href="blog copy.html">Blog</a></li>
                        <li><a href="contact copy.html">Contact</a></li>
                        
                        </li>
                        <li class="d-lg-none"><a href="login.html">Log out</a></li>
                    </ul>
                </nav>

                <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
                    <div class="ml-auto">
                        
                                <button onclick="logout()"  id="logoutButton" class="btn btn-primary border-width-2 d-none d-lg-inline-block" title="Log Out"><span class="mr-2 icon-lock_outline"></span>Log Out</button>
                    </div>
                    <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"><span
                            class="icon-menu h3 m-0 p-0 mt-2"></span></a>
                </div>

            </div>
        </div>
    </header>

    <!-- HOME -->
    <section class="section-hero overlay inner-page bg-image" style="background-image: url('images/hero_1.jpg');"
             id="home-section">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h1 class="text-white font-weight-bold">Post A Job</h1>
                    <div class="custom-breadcrumbs">
                        <a href="#">Home</a> <span class="mx-2 slash">/</span>
                        <a href="#">Job</a> <span class="mx-2 slash">/</span>
                        <span class="text-white"><strong>Post a Job</strong></span>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="site-section">
        <div class="container">

            <div class="row align-items-center mb-5">
                <div class="col-lg-8 mb-4 mb-lg-0">
                    <div class="d-flex align-items-center">
                        <div>
                            <h2>Post A Job</h2>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="row">
                        <div class="col-6">
                            <a href="#" class="btn btn-block btn-light btn-md" id="previewBtn1"><span class="icon-open_in_new mr-2"></span>Preview</a>
                        </div>
                        
                        <div class="col-6">
                            <button class="btn btn-block btn-primary btn-md" id="saveJobBtn1">Save Job</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-5">
                <div class="col-lg-12">
                    <form class="p-4 p-md-5 border rounded" method="post" id="jobForm">
                        <h3 class="text-black mb-5 border-bottom pb-2">Job Details</h3>

                        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" placeholder="you@yourdomain.com">
                        </div>
                        <div class="form-group">
                            <label for="job-title">Job Title</label>
                            <input type="text" class="form-control" id="job-title" placeholder="Product Designer">
                        </div>
                        <div class="form-group">
                            <label for="job-location">Location</label>
                            <input type="text" class="form-control" id="job-location" placeholder="e.g. New York">
                        </div>

                        <div class="form-group">
                            <label for="job-region">Job Region</label>
                            <select class="selectpicker border rounded" id="job-region" data-style="btn-black"
                                    data-width="100%" data-live-search="true" title="Select Region">
                                    <option>Bangalore</option>
                                    <option>Mumbai</option>
                                    <option>Hyderabad</option>
                                    <option>Pune</option>
                                    <option>Delhi NCR</option>
                                    <option>Outside India</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="job-type">Job Type</label>
                            <select class="selectpicker border rounded" id="job-type" data-style="btn-black"
                                    data-width="100%" data-live-search="true" title="Select Job Type">
                                <option>Part Time</option>
                                <option>Full Time</option>
                            </select>
                        </div>


                        <div class="form-group">
                            <label for="job-description">Job Description</label>
                            <textarea class="form-control" id="job-description" placeholder="Enter job description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="education">Education+Experience+Skills</label>
                            <textarea class="form-control" id="education" placeholder="Enter required education,experience and skills"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="application-link">Application Link</label>
                            <input type="text" class="form-control" id="application-link" placeholder="Enter application link">
                        </div>
                        
                        
                        


                        <h3 class="text-black my-5 border-bottom pb-2">Company Details</h3>
                        <div class="form-group">
                            <label for="company-name">Company Name</label>
                            <input type="text" class="form-control" id="company-name" placeholder="e.g. New York">
                        </div>

                        <div class="form-group">
                            <label for="company-tagline">Tagline (Optional)</label>
                            <input type="text" class="form-control" id="company-tagline" placeholder="e.g. New York">
                        </div>

                        <div class="form-group">
                            <label for="company">Company Description</label>
                            <textarea class="form-control" id="company-description" placeholder="Enter company description"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="company-Logo">Logo</label>
                            <input type="text" class="form-control" id="company-Logo" placeholder="https://">
                        </div>

                        <div class="form-group">
                            <label for="company-website">Website (Optional)</label>
                            <input type="text" class="form-control" id="company-website" placeholder="https://">
                        </div>

                        <div class="form-group">
                            <label for="company-website-fb">Facebook Username (Optional)</label>
                            <input type="text" class="form-control" id="company-website-fb" placeholder="companyname">
                        </div>

                        <div class="form-group">
                            <label for="company-website-tw">Twitter Username (Optional)</label>
                            <input type="text" class="form-control" id="company-website-tw" placeholder="@companyname">
                        </div>
                        <div class="form-group">
                            <label for="company-website-li">Linkedin Username (Optional)</label>
                            <input type="text" class="form-control" id="company-website-li" placeholder="companyname">
                        </div>

                        

                    </form>
                </div>


            </div>
            <div class="row align-items-center mb-5">

                <div class="col-lg-4 ml-auto">
                    <div class="row">
                        <div class="col-6">
                            <a href="#" class="btn btn-block btn-light btn-md" id="previewBtn2"><span class="icon-open_in_new mr-2"></span>Preview</a>
                        </div>
                        
                        <div class="col-6">
                            <button class="btn btn-block btn-primary btn-md" id="saveJobBtn2">Save Job</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">

        <a href="#top" class="smoothscroll scroll-top">
          <span class="icon-keyboard_arrow_up"></span>
        </a>
  
        <div class="container">
          <div class="row mb-5">
            <div class="col-6 col-md-3 mb-4 mb-md-0">
              <h3>Search Trending</h3>
              <ul class="list-unstyled">
                <li><a href="#">Recruitment trends</a></li>
              <li><a href="#">Hiring strategies</a></li>
              <li><a href="#">Resume screening</a></li>
              <li><a href="#">Candidate sourcing</a></li>
              <li><a href="#">Diversity hiring</a></li>
              <li><a href="#">Job market insights</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-3 mb-4 mb-md-0">
              <h3>Company</h3>
              <ul class="list-unstyled">
                <li><a href="about.html">About Us</a></li>
                
                <li><a href="blog.html">Blog</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="testimonials.html">Testimonials</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-3 mb-4 mb-md-0">
              <h3>Support</h3>
              <ul class="list-unstyled">
                <li><a href="#">Support</a></li>
                <li><a href="#">Privacy</a></li>
                <li><a href="#">Terms of Service</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-3 mb-4 mb-md-0">
              <h3>Contact Us</h3>
              <div class="footer-social">
                <a href="#"><span class="icon-facebook"></span></a>
                <a href="#"><span class="icon-twitter"></span></a>
                <a href="#"><span class="icon-instagram"></span></a>
                <a href="#"><span class="icon-linkedin"></span></a>
              </div>
            </div>
          </div>
  
          <div class="row text-center">
            <div class="col-12">
              <p class="copyright"><small>
               
              Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved 
              </small></p>
            </div>
          </div>
        </div>
      </footer>
    
    </div>

<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/isotope.pkgd.min.js"></script>
<script src="js/stickyfill.min.js"></script>
<script src="js/jquery.fancybox.min.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/jquery.animateNumber.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/quill.min.js"></script>
<script src="js/bootstrap-select.min.js"></script>
<script src="js/custom.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Function to handle preview button click
        function handlePreviewButtonClick(event) {
            console.log('Preview button clicked');
            event.preventDefault(); // Prevent default link behavior

            // Get input values
            var email = getValueById('email');
            var jobTitle = getValueById('job-title');
            var jobLocation = getValueById('job-location');
            // Get other form values as needed
            

            // Construct preview message with HTML line breaks
            var previewMessage = 'Email: ' + email + '<br>' +
                'Job Title: ' + jobTitle + '<br>' +
                'Location: ' + jobLocation + '<br>';
            // Construct the rest of the preview message

            // Display preview using SweetAlert2 with HTML content
            Swal.fire({
                title: 'Job Preview',
                html: previewMessage,
                icon: 'info',
                confirmButtonText: 'OK'
            });
        }

        // Function to get value by element ID
        function getValueById(id) {
            var element = document.getElementById(id);
            return element ? element.value : '';
        }

        // Function to handle form submission
        function handleFormSubmission(event) {
            event.preventDefault(); // Prevent default form submission

            // Get form values
           // Get the values of all input fields
                var email = document.getElementById('email').value;
                var jobTitle = document.getElementById('job-title').value;
                var jobLocation = document.getElementById('job-location').value;
                var jobRegion = document.getElementById('job-region').value;
                var jobType = document.getElementById('job-type').value;
                var jobDescription = document.getElementById('job-description').value;
                var companyName = document.getElementById('company-name').value;
                var companyTagline = document.getElementById('company-tagline').value;
                var companyDescription = document.getElementById('company-description').value;
                var companyWebsite = document.getElementById('company-website').value;
                var companyFacebook = document.getElementById('company-website-fb').value;
                var companyTwitter = document.getElementById('company-website-tw').value;
                var companyLinkedin = document.getElementById('company-website-li').value;
                var jobLogo = document.getElementById('company-Logo').value;
                var education = document.getElementById('education').value;
                var applicationLink = document.getElementById('application-link').value;



            // Check if required fields are empty
            if (!email || !jobTitle || !jobLocation) {
                // Display error message using SweetAlert2
                Swal.fire({
                    title: 'Error!',
                    text: 'Please fill out all required fields.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
                return; // Stop further execution
            }

            /// Construct the request body including all fields
            var requestBody = JSON.stringify({
                email: email,
                jobTitle: jobTitle,
                jobLocation: jobLocation,
                jobRegion: jobRegion,
                jobType: jobType,
                jobDescription: jobDescription,
                companyName: companyName,
                companyTagline: companyTagline,
                companyDescription: companyDescription,
                companyWebsite: companyWebsite,
                companyFacebook: companyFacebook,
                companyTwitter: companyTwitter,
                companyLinkedin: companyLinkedin,
                jobLogo: jobLogo,
                education: education,
                applicationLink: applicationLink
            });

            // Send the POST request with the constructed request body
            fetch('http://localhost:5500/api/job/post', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: requestBody
            })
            .then(response => {
                if (response.ok) {
                    // Show success message
                    Swal.fire({
                        title: 'Success!',
                        text: 'Your job has been successfully posted.',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    });
                    // Optionally, reset the form
                    document.getElementById('jobForm').reset();
                } else {
                    throw new Error('Failed to post job');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                // Display error message
                Swal.fire({
                    title: 'Error!',
                    text: 'Failed to post job. Please try again later.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
            });

                   
        }

        // Attach event listeners to preview buttons
        document.getElementById('previewBtn1').addEventListener('click', handlePreviewButtonClick);
        document.getElementById('previewBtn2').addEventListener('click', handlePreviewButtonClick);

        // Attach event listeners to form submission buttons
        document.getElementById('saveJobBtn1').addEventListener('click', handleFormSubmission);
        document.getElementById('saveJobBtn2').addEventListener('click', handleFormSubmission);
    });

    window.onload = function() {
        const username = localStorage.getItem('username');
        const logoutButton = document.getElementById('logoutButton');
        if (logoutButton && username) {
          logoutButton.insertAdjacentHTML('beforebegin', `<span class="btn btn-outline-white border-width-2 d-none d-lg-inline-block mr-2">${username}</span>`);
        }
    }
</script>

</body>
</html>
